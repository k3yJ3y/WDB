<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Product</title>
</head>

<body>
  <h1>Edit a Product</h1>
  <form action="/products/<%=p._id%>?_method=PUT" method="POST">
    <label for="name">Product name</label>
    <input type="text" name="name" placeholder="product name" value="<%= p.name %> " />
    <label for="price">Product price</label>
    <input type="number" step="0.01" name="price" placeholder="product price" value="<%= p.price %>" />
    <label for="category">Select category</label>
    <select name="category" id="category">
      <!-- <option value="fruit" <%=p.category==='fruit' ? 'selected' : '' %> >fruit</option>
      <option value="vegetable" <%=p.category==='vegetable' ? 'selected' : '' %>>vegetable</option>
      <option value="dairy" <%=p.category==='dairy' ? 'selected' : '' %>>dairy</option> -->
      <% for(let c of categories) { %>
        <option value="<%= c %>" <%=p.category===c ? 'selected' : '' %> >
          <%= c %>
        </option>
        <% } %>
    </select>
    <button>Submit</button>
  </form>
  <a href="/products/<%= p._id %> ">Back to product</a>
</body>

</html>